import greenfoot.*;

public class UnionRifleman extends Actor
{
    private int HP = 100;
    private int dmg = 10;
    private int cost = 100;
    private int state = 0;
    private boolean isPlayer = true;
    public void act()
    {
        MouseInfo mi = Greenfoot.getMouseInfo();
        int oldX = getX();
        int oldY = getY();
        
        if(getX() < 6){
            setLocation(6, getY());
        }
        if(getX() > 14){
            setLocation(14, getY());
        }
        if(getY() < 2){
            setLocation(getX(), 2);
        }
        if(getY() > 11){
            setLocation(getX(), 11);
        }
        if(state == 0) {
            if(Greenfoot.mouseClicked(this)) {
                state = 1;
            }
        }
        else if(state == 1) {
            movement();
        }
        Actor testEnemy = getOneObjectAtOffset(0, 0, EmpireRifleman.class);
        Actor testAlly = getOneObjectAtOffset(0, 0, UnionRifleman.class);
        if(testEnemy != null || testAlly != null){
            setLocation(oldX, oldY);
        }
    }

    public void movement() {
        MouseInfo mi = Greenfoot.getMouseInfo();
        int oldX = getX();
        int oldY = getY();
        if(Greenfoot.mouseClicked(null)) {
            setLocation(mi.getX(), mi.getY());
            if(getX() > oldX+1 || getX() < oldX-1 || getY() < oldY-1 || getY() > oldY+1) {
                setLocation(oldX, oldY);
            }
            state = 0;
        }
    }

    public int getHP(){
        return HP;
    }

    public void setHP(int HP){
        this.HP = HP;
    }

    public int getDmg(){
        return dmg;
    }

    public void setDmg(int dmg){
        this.dmg = dmg;
    }

    public int getCost(){
        return cost;
    }
    
    public boolean getIsPlayer() {
        return isPlayer;
    }
}
